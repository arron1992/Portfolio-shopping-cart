(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b251d"],{2438:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Loading",{attrs:{active:e.isLoading},on:{"update:active":function(t){e.isLoading=t}}}),a("Alert"),a("form",{on:{submit:function(t){return t.preventDefault(),e.submitOrder()}}},[a("div",{staticClass:"row m-0"},[a("div",{staticClass:"col-md-8 col-sm-12 form-area"},[a("div",{staticClass:"coupon-group"},[a("h3",[e._v("Have a Coupon?")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.coupon_code,expression:"coupon_code"}],staticClass:"code-text",attrs:{type:"text",placeholder:"Your coupon code?",value:""},domProps:{value:e.coupon_code},on:{input:function(t){t.target.composing||(e.coupon_code=t.target.value)}}}),a("a",{staticClass:"code-btn",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.useCoupon(e.coupon_code),e.coupon_code=""}}},[e._v("Apply Coupon")])]),a("div",{staticClass:"info-group mt-4"},[a("h3",[e._v("Customer Info")]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"info-group-form col-md-6 col-sm-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.user.name,expression:"form.user.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"is-invalid":e.errors.has("name")},attrs:{type:"text",placeholder:"Name*",name:"name"},domProps:{value:e.form.user.name},on:{input:function(t){t.target.composing||e.$set(e.form.user,"name",t.target.value)}}}),e.errors.has("name")?a("span",{staticClass:"warning-text"},[e._v("請輸入姓名")]):e._e()]),a("div",{staticClass:"info-group-form col-md-6 col-sm-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.user.tel,expression:"form.user.tel"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"is-invalid":e.errors.has("tel")},attrs:{type:"tel",placeholder:"Phone Number*",name:"tel"},domProps:{value:e.form.user.tel},on:{input:function(t){t.target.composing||e.$set(e.form.user,"tel",t.target.value)}}}),e.errors.has("tel")?a("span",{staticClass:"warning-text"},[e._v("請輸入電話號碼")]):e._e()]),a("div",{staticClass:"info-group-form col-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.user.email,expression:"form.user.email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],class:{"is-invalid":e.errors.has("email")},attrs:{type:"email",placeholder:"Email address*",name:"email"},domProps:{value:e.form.user.email},on:{input:function(t){t.target.composing||e.$set(e.form.user,"email",t.target.value)}}}),e.errors.has("email")?a("span",{staticClass:"warning-text"},[e._v("請輸入電子郵件")]):e._e()]),a("div",{staticClass:"info-group-form col-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.user.address,expression:"form.user.address"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"is-invalid":e.errors.has("address")},attrs:{type:"text",placeholder:"Address*",name:"address"},domProps:{value:e.form.user.address},on:{input:function(t){t.target.composing||e.$set(e.form.user,"address",t.target.value)}}}),e.errors.has("address")?a("span",{staticClass:"warning-text"},[e._v("請輸入收件地址")]):e._e()]),a("div",{staticClass:"info-group-form col-12"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.message,expression:"form.message"}],attrs:{rows:"3",placeholder:"Special Notes"},domProps:{value:e.form.message},on:{input:function(t){t.target.composing||e.$set(e.form,"message",t.target.value)}}})])])])]),a("div",{staticClass:"col-md-4 col-sm-12 order-area"},[a("p",{staticClass:"table-title"},[e._v("Order Summary")]),a("table",{staticClass:"table"},[e._m(0),a("tbody",e._l(e.cart.carts.carts,function(t,s){return a("tr",{key:s},[a("td",{staticClass:"align-middle"},[e._v(e._s(t.product.title)+" x "+e._s(t.qty))]),a("td",{staticClass:"align-middle"},[e._v(e._s(e._f("currency")(t.total)))]),a("td",{staticClass:"align-middle"},[a("span",{staticClass:"table-cross",on:{click:function(a){return e.removeCart(t.id)}}},[a("i",{staticClass:"fas fa-ban"})])])])}),0)]),a("div",{staticClass:"money-area mt-2"},[e._m(1),a("div",{staticClass:"d-flex justify-content-between mt-5"},[a("strong",[e._v("Total :")]),a("span",[e._v(e._s(e._f("currency")(e.cart.carts.total)))])]),e.cart.carts.final_total!==e.cart.carts.total?a("div",{staticClass:"discouot-group d-flex justify-content-between"},[a("strong",[e._v("Discount :")]),a("span",[e._v(e._s(e._f("currency")(e.cart.carts.final_total)))])]):e._e()]),a("button",{staticClass:"checkout-btn",attrs:{type:"submit"}},[e._v("Pay Order")])])])])],1)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("Product")]),a("th",[e._v("Total")]),a("th",[a("i",{staticClass:"fas fa-cog"})])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"code"},[a("i",{staticClass:"fas fa-tag"}),e._v(" Coupon Code:「 cart-666 」")])}],o=a("cebc"),i=a("2f62"),n=a("abaf"),c={components:{Alert:n["a"]},data:function(){return{form:{user:{name:"",email:"",tel:"",address:""},message:""},coupon_code:""}},methods:Object(o["a"])({submitOrder:function(){var e=this,t="".concat("https://vue-course-api.hexschool.io","/api/").concat("portfolio-shopping-cart","/order"),a=e.form;this.$validator.validate().then(function(s){s&&e.$http.post(t,{data:a}).then(function(t){t.data.success&&e.$router.push("/checkout/order/".concat(t.data.orderId))})})},useCoupon:function(e){this.$store.dispatch("cartModules/useCoupon",e)}},Object(i["b"])("cartModules",["getCart","removeCart"])),computed:Object(o["a"])({},Object(i["c"])("cartModules",["cart"]),Object(i["c"])(["isLoading"])),created:function(){this.getCart}},l=c,u=a("2877"),d=Object(u["a"])(l,s,r,!1,null,null,null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0b251d.a061cc4c.js.map