(function(t){function n(n){for(var e,c,i=n[0],u=n[1],s=n[2],d=0,p=[];d<i.length;d++)c=i[d],a[c]&&p.push(a[c][0]),a[c]=0;for(e in u)Object.prototype.hasOwnProperty.call(u,e)&&(t[e]=u[e]);h&&h(n);while(p.length)p.shift()();return r.push.apply(r,s||[]),o()}function o(){for(var t,n=0;n<r.length;n++){for(var o=r[n],e=!0,c=1;c<o.length;c++){var i=o[c];0!==a[i]&&(e=!1)}e&&(r.splice(n--,1),t=u(u.s=o[0]))}return t}var e={},c={app:0},a={app:0},r=[];function i(t){return u.p+"js/"+({}[t]||t)+"."+{"chunk-2d2086b7":"6d32c77f","chunk-36a8d933":"f7d4d86a","chunk-3fde3780":"5b38056a","chunk-5ca7bf45":"29fad651","chunk-5e6511d2":"f3205b46","chunk-02582e45":"58d45473","chunk-19db4174":"95eb707b","chunk-2d0ba8cb":"6fd28375","chunk-2d0c22d8":"5fcacdc2","chunk-2d0c42e1":"3e981ef6","chunk-2d22d97a":"3c820434","chunk-9ada4bd8":"ac38029d","chunk-e7be25f2":"ca00b2e5"}[t]+".js"}function u(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,u),o.l=!0,o.exports}u.e=function(t){var n=[],o={"chunk-36a8d933":1,"chunk-5ca7bf45":1,"chunk-02582e45":1,"chunk-19db4174":1};c[t]?n.push(c[t]):0!==c[t]&&o[t]&&n.push(c[t]=new Promise(function(n,o){for(var e="css/"+({}[t]||t)+"."+{"chunk-2d2086b7":"31d6cfe0","chunk-36a8d933":"39bd1aed","chunk-3fde3780":"31d6cfe0","chunk-5ca7bf45":"39bd1aed","chunk-5e6511d2":"31d6cfe0","chunk-02582e45":"00f84125","chunk-19db4174":"39bd1aed","chunk-2d0ba8cb":"31d6cfe0","chunk-2d0c22d8":"31d6cfe0","chunk-2d0c42e1":"31d6cfe0","chunk-2d22d97a":"31d6cfe0","chunk-9ada4bd8":"31d6cfe0","chunk-e7be25f2":"31d6cfe0"}[t]+".css",a=u.p+e,r=document.getElementsByTagName("link"),i=0;i<r.length;i++){var s=r[i],d=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(d===e||d===a))return n()}var p=document.getElementsByTagName("style");for(i=0;i<p.length;i++){s=p[i],d=s.getAttribute("data-href");if(d===e||d===a)return n()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=n,h.onerror=function(n){var e=n&&n.target&&n.target.src||a,r=new Error("Loading CSS chunk "+t+" failed.\n("+e+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=e,delete c[t],h.parentNode.removeChild(h),o(r)},h.href=a;var f=document.getElementsByTagName("head")[0];f.appendChild(h)}).then(function(){c[t]=0}));var e=a[t];if(0!==e)if(e)n.push(e[2]);else{var r=new Promise(function(n,o){e=a[t]=[n,o]});n.push(e[2]=r);var s,d=document.createElement("script");d.charset="utf-8",d.timeout=120,u.nc&&d.setAttribute("nonce",u.nc),d.src=i(t),s=function(n){d.onerror=d.onload=null,clearTimeout(p);var o=a[t];if(0!==o){if(o){var e=n&&("load"===n.type?"missing":n.type),c=n&&n.target&&n.target.src,r=new Error("Loading chunk "+t+" failed.\n("+e+": "+c+")");r.type=e,r.request=c,o[1](r)}a[t]=void 0}};var p=setTimeout(function(){s({type:"timeout",target:d})},12e4);d.onerror=d.onload=s,document.head.appendChild(d)}return Promise.all(n)},u.m=t,u.c=e,u.d=function(t,n,o){u.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,n){if(1&n&&(t=u(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(u.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var e in t)u.d(o,e,function(n){return t[n]}.bind(null,e));return o},u.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(n,"a",n),n},u.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},u.p="/Portfolio-shopping-cart/",u.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=n,s=s.slice();for(var p=0;p<s.length;p++)n(s[p]);var h=d;r.push([0,"chunk-vendors"]),o()})({0:function(t,n,o){t.exports=o("56d7")},"56d7":function(t,n,o){"use strict";o.r(n);o("cadf"),o("551c"),o("f751"),o("097d");var e=o("2b0e"),c=o("8c4f");e["a"].use(c["a"]);var a=new c["a"]({routes:[{path:"/home",name:"home",component:function(){return Promise.all([o.e("chunk-5e6511d2"),o.e("chunk-02582e45")]).then(o.bind(null,"bb51"))}},{path:"*",redirect:"/home"},{path:"/login",name:"login",component:function(){return Promise.all([o.e("chunk-5e6511d2"),o.e("chunk-2d0c22d8")]).then(o.bind(null,"48ca"))}},{path:"/store",name:"store",component:function(){return o.e("chunk-3fde3780").then(o.bind(null,"2923"))},children:[{path:"products",name:"porducts",component:function(){return Promise.all([o.e("chunk-5e6511d2"),o.e("chunk-2d0ba8cb")]).then(o.bind(null,"384d"))}},{path:"porduct/:itemId",name:"porduct",component:function(){return Promise.all([o.e("chunk-5e6511d2"),o.e("chunk-2d0c42e1")]).then(o.bind(null,"3a74"))}}]},{path:"/checkout",name:"",component:function(){return o.e("chunk-e7be25f2").then(o.bind(null,"1e9f"))},children:[{path:"",name:"client-info",component:function(){return Promise.all([o.e("chunk-5e6511d2"),o.e("chunk-2d22d97a")]).then(o.bind(null,"f7c6"))}},{path:"order/:orderId",name:"client-order",component:function(){return o.e("chunk-9ada4bd8").then(o.bind(null,"a2c4"))}}]},{path:"/admin",name:"admin",component:function(){return o.e("chunk-2d2086b7").then(o.bind(null,"a55b"))},meta:{requiresAuth:!0},children:[{path:"products",name:"admin-products",component:function(){return Promise.all([o.e("chunk-5e6511d2"),o.e("chunk-19db4174")]).then(o.bind(null,"9832"))},meta:{requiresAuth:!0}},{path:"coupons",name:"admin-coupons",component:function(){return o.e("chunk-36a8d933").then(o.bind(null,"cdc5"))},meta:{requiresAuth:!0}},{path:"orders",name:"admin-orders",component:function(){return o.e("chunk-5ca7bf45").then(o.bind(null,"4d1b"))},meta:{requiresAuth:!0}}]}]}),r=o("bc3a"),i=o.n(r),u=o("a7fe"),s=o.n(u),d=o("9062"),p=o.n(d),h=(o("e40d"),o("4989"),o("7bb1")),f=o("427f"),m=o.n(f),l=(o("ac6a"),o("2f62")),g=(o("5df3"),o("4f7f"),{namespaced:!0,state:{products:[],categories:[]},actions:{getProducts:function(t){var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("portfolio-shopping-cart","/products/all");t.commit("LOADING",!0,{root:!0}),i.a.get(n).then(function(n){t.commit("PRODUCTS",n.data.products),t.commit("CATEGORIES",n.data.products),t.commit("LOADING",!1,{root:!0})})}},mutations:{PRODUCTS:function(t,n){t.products=n},CATEGORIES:function(t,n){var o=new Set;n.forEach(function(t){o.add(t.category)}),t.categories=o}},getters:{categories:function(t){return t.categories},products:function(t){return t.products}}}),v={namespaced:!0,state:{item:{}},actions:{getItem:function(t,n){var o="".concat("https://vue-course-api.hexschool.io","/api/").concat("portfolio-shopping-cart","/product/").concat(n);t.commit("LOADING",!0,{root:!0}),i.a.get(o).then(function(n){n.data.success&&t.commit("ITEM",n.data.product),t.commit("LOADING",!1,{root:!0})})}},mutations:{ITEM:function(t,n){t.item=n}},getters:{item:function(t){return t.item}}},b={namespaced:!0,state:{cart:{carts:[]},cartInfo:[],couponInfo:[]},actions:{addToCart:function(t,n){var o=n.id,e=n.qty,c={product_id:o,qty:e},a="".concat("https://vue-course-api.hexschool.io","/api/").concat("portfolio-shopping-cart","/cart");t.commit("LOADING",!0,{root:!0}),i.a.post(a,{data:c}).then(function(n){n.request.status&&(t.commit("CART",n.data),t.dispatch("getCart"),t.commit("LOADING",!1,{root:!0}),t.commit("CARTINFO",n),t.dispatch("removeMessageWithTimingForCart",n.data.data.id))})},getCart:function(t){var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("portfolio-shopping-cart","/cart");t.commit("LOADING",!0,{root:!0}),i.a.get(n).then(function(n){n.data.data.carts&&t.commit("CART",n.data.data),t.commit("LOADING",!1,{root:!0})})},removeCart:function(t,n){var o="".concat("https://vue-course-api.hexschool.io","/api/").concat("portfolio-shopping-cart","/cart/").concat(n);t.commit("LOADING",!0,{root:!0}),i.a.delete(o).then(function(n){t.dispatch("getCart"),t.commit("LOADING",!1,{root:!0})})},useCoupon:function(t,n){var o={code:n};t.commit("LOADING",!0,{root:!0});var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("portfolio-shopping-cart","/coupon");i.a.post(e,{data:o}).then(function(n){var o=Math.floor(Date.now()/1e3),e={success:n.data.success,message:n.data.message,id:o};n.data.success?(t.dispatch("getCart"),t.commit("COUPONINFO",e),t.commit("LOADING",!1,{root:!0}),t.dispatch("removeMessageWithTimingForCoupon",o)):(t.commit("COUPONINFO",e),t.commit("LOADING",!1,{root:!0}),t.dispatch("removeMessageWithTimingForCoupon",o))})},removeMessageWithTimingForCart:function(t,n){var o=this;setTimeout(function(){var t=o.state.cartModules.cartInfo;t.forEach(function(o,e){o.id===n&&t.splice(e,1)})},3e3)},removeMessageWithTimingForCoupon:function(t,n){var o=this;setTimeout(function(){var t=o.state.cartModules.couponInfo;t.forEach(function(o,e){o.id===n&&t.splice(e,1)})},3e3)}},mutations:{CART:function(t,n){t.cart.carts=n},CARTINFO:function(t,n){t.cartInfo.push({title:n.data.data.product.title,status:n.data.success,id:n.data.data.id,qty:n.data.data.qty})},COUPONINFO:function(t,n){t.couponInfo.push({status:n.success,message:n.message,id:n.id})}},getters:{cart:function(t){return t.cart},cartInfo:function(t){return t.cartInfo},couponInfo:function(t){return t.couponInfo}}},O={namespaced:!0,state:{order:{}},actions:{getOrder:function(t,n){var o="".concat("https://vue-course-api.hexschool.io","/api/").concat("portfolio-shopping-cart","/order/").concat(n);i.a.get(o).then(function(n){t.commit("ORDER",n.data.order)})},payOrder:function(t,n){var o="".concat("https://vue-course-api.hexschool.io","/api/").concat("portfolio-shopping-cart","/pay/").concat(n);t.commit("LOADING",!0,{root:!0}),i.a.post(o).then(function(o){t.commit("LOADING",!1,{root:!0}),t.dispatch("getOrder",n)})}},mutations:{ORDER:function(t,n){t.order=n}},getters:{order:function(t){return t.order}}},I={namespaced:!0,state:{orders:{},pagination:{}},actions:{getOrders:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o="".concat("https://vue-course-api.hexschool.io","/api/").concat("portfolio-shopping-cart","/admin/orders?page=").concat(n);t.commit("LOADING",!0,{root:!0}),i.a.get(o).then(function(n){t.commit("ORDERS",n.data.orders),t.commit("PAGINATION",n.data.pagination),t.commit("LOADING",!1,{root:!0})})}},mutations:{ORDERS:function(t,n){t.orders=n},PAGINATION:function(t,n){t.pagination=n}},getters:{orders:function(t){return t.orders},pagination:function(t){return t.pagination}}},N={namespaced:!0,state:{coupons:[],pagination:{}},actions:{getCoupons:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o="".concat("https://vue-course-api.hexschool.io","/api/").concat("portfolio-shopping-cart","/admin/coupons?page=").concat(n);t.commit("LOADING",!0,{root:!0}),i.a.get(o).then(function(n){t.commit("COUPONS",n.data.coupons),t.commit("PAGINATION",n.data.pagination),t.commit("LOADING",!1,{root:!0})})},removeCoupon:function(t,n){var o="".concat("https://vue-course-api.hexschool.io","/api/").concat("portfolio-shopping-cart","/admin/coupon/").concat(n);t.commit("LOADING",!0,{root:!0}),i.a.delete(o).then(function(n){t.dispatch("getCoupons"),t.commit("LOADING",!1,{root:!0})})}},mutations:{COUPONS:function(t,n){t.coupons=n},PAGINATION:function(t,n){t.pagination=n}},getters:{coupons:function(t){return t.coupons},pagination:function(t){return t.pagination}}},k={namespaced:!0,state:{products:{},pagination:{},uploadFile:[]},actions:{getProducts:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o="".concat("https://vue-course-api.hexschool.io","/api/").concat("portfolio-shopping-cart","/admin/products?page=").concat(n);t.commit("LOADING",!0,{root:!0}),i.a.get(o).then(function(n){t.commit("PRODUCTS",n.data.products),t.commit("PAGINATION",n.data.pagination),t.commit("LOADING",!1,{root:!0})})},removeProduct:function(t,n){var o="".concat("https://vue-course-api.hexschool.io","/api/").concat("portfolio-shopping-cart","/admin/product/").concat(n);t.commit("LOADING",!0,{root:!0}),i.a.delete(o).then(function(){t.dispatch("getProducts"),t.commit("LOADING",!1,{root:!0})})},removeMessageWithTiming:function(t,n){var o=this;setTimeout(function(){var t=o.state.adProductsModules.uploadFile;t.forEach(function(o,e){o.id===n&&t.splice(e,1)})},5e3)}},mutations:{PRODUCTS:function(t,n){t.products=n},PAGINATION:function(t,n){t.pagination=n},UPLOADFILE:function(t,n){t.uploadFile.push({status:n.res.success,messages:n.res.message,id:n.id})}},getters:{products:function(t){return t.products},pagination:function(t){return t.pagination},uploadFile:function(t){return t.uploadFile}}};e["a"].use(l["a"]);var A=new l["a"].Store({script:!0,state:{isLoading:!1,signIn:[]},actions:{updateLoading:function(t,n){t.commit("LOADING",n)},signIn:function(t,n){var o="".concat("https://vue-course-api.hexschool.io","/admin/signin");i.a.post(o,n).then(function(n){n.data.success?(t.commit("SIGNIN",n.data),a.push("/store/products"),t.dispatch("removeMessageWithTiming",n.data.uid)):(t.commit("SIGNIN",n.data),t.dispatch("removeMessageWithTiming",n.data.uid))})},removeMessageWithTiming:function(t,n){var o=this;setTimeout(function(){var t=o.state.signIn;t.forEach(function(o,e){o.id===n&&t.splice(e,1)})},3e3)}},mutations:{LOADING:function(t,n){t.isLoading=n},SIGNIN:function(t,n){t.signIn.push({message:n.message,status:n.success,id:n.uid})}},getters:{isLoading:function(t){return t.isLoading},signIn:function(t){return t.signIn}},modules:{productsModules:g,productModules:v,cartModules:b,orderModules:O,adOrdersModules:I,adCouponsModules:N,adProductsModules:k}}),T=function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("div",{staticClass:"wrap"},[o("router-view"),o("goTop")],1)},C=[],D=function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("div",[o("div",{staticClass:"top",on:{click:function(n){return n.preventDefault(),t.goTop()}}},[t._m(0)])])},L=[function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("a",{attrs:{href:"#"}},[o("i",{staticClass:"fa fa-chevron-up"})])}],y=o("1157"),G=o.n(y),P={data:function(){return{}},methods:{goTop:function(){G()(".top a").click(function(t){G()("html, body").animate({scrollTop:0},700)})}}},E=P,w=(o("b815"),o("2877")),M=Object(w["a"])(E,D,L,!1,null,null,null),S=M.exports,x={components:{goTop:S},data:function(){return{}},methods:{handleScroll:function(){G()(window).scroll(function(){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,n=document.querySelector(".top");n.style.display=0!==t?"block":"none"})}},created:function(){window.addEventListener("scroll",this.handleScroll(),!0)}},F=x,R=(o("5c0b"),Object(w["a"])(F,T,C,!1,null,null,null)),_=R.exports,q=(o("a481"),o("c5f6"),function(t){var n=Number(t);return"$".concat(n.toFixed(0).replace(/./g,function(t,n,o){var e=n&&"."!==t&&(o.length-n)%3===0?", ".concat(t).replace(/\s/g,""):t;return e}))}),j=function(t){var n=new Date(1e3*t),o=n.getFullYear()+"-",e=n.getMonth()+"-",c=n.getDate()+"",a=o+e+c;return a};e["a"].config.productionTip=!1,e["a"].use(s.a,i.a),e["a"].component("Loading",p.a),e["a"].filter("currency",q),e["a"].filter("timestamp",j),e["a"].use(h["a"]),h["a"].Validator.localize("zh_TW",m.a),i.a.defaults.withCredentials=!0,a.beforeEach(function(t,n,o){if(t.meta.requiresAuth){var e="".concat("https://vue-course-api.hexschool.io","/api/user/check");i.a.post(e).then(function(t){t.data.success?o():o({path:"/login"})})}else o()}),new e["a"]({router:a,store:A,render:function(t){return t(_)}}).$mount("#app")},"5c0b":function(t,n,o){"use strict";var e=o("5e27"),c=o.n(e);c.a},"5e27":function(t,n,o){},b815:function(t,n,o){"use strict";var e=o("ec49"),c=o.n(e);c.a},ec49:function(t,n,o){}});
//# sourceMappingURL=app.8a1babf8.js.map